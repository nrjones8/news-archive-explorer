(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){},43:function(e,t,a){e.exports=a(74)},48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(22),o=a.n(r),i=(a(48),a(17)),c=a(41),l=a(16),h=a(11),m=a(12),u=a(14),b=a(13),p=a(15),d=function(e){function t(){return Object(h.a)(this,t),Object(u.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},s.a.createElement("a",{className:"navbar-brand",href:"/news-archive-explorer/#/"},"News Homepage Archive"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#explorerNavBar","aria-controls":"explorerNavBar","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"explorerNavBar"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item active"},s.a.createElement("a",{className:"nav-link",href:"/news-archive-explorer/#/"},"Home"))),s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item active"},s.a.createElement("a",{className:"nav-link",href:"/news-archive-explorer/#/about"},"About")))))}}]),t}(n.Component),g=(a(32),a(33),a(34),function(e){function t(){return Object(h.a)(this,t),Object(u.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(d,null),s.a.createElement("div",{className:"container mt-5"},s.a.createElement("h2",null,"About this project"),s.a.createElement("p",null,"The screenshots used in this project are taken once an hour, across a number of websites, starting January 1, 2019. You can find more information about the source of the screenshots, and how to use them for your own project, ",s.a.createElement("a",{href:"https://github.com/nrjones8/website-screenshotter#news-homepage-archive",target:"_blank",rel:"noopener noreferrer"},"here"),"."),s.a.createElement("p",null,"This web app itself is built using React, and the code for it lives ",s.a.createElement("a",{href:"https://github.com/nrjones8/news-archive-explorer"},"on Github"),". If you have feedback or spot a bug, please file ",s.a.createElement("a",{href:"https://github.com/nrjones8/news-archive-explorer/issues"},"a Github issue"),", or if you aren't familiar with Github, send an email to newsscreenshotarchive@gmail.com."),s.a.createElement("p",null,"This project is unaffiliated with ",s.a.createElement("a",{href:"http://www.pastpages.org/",target:"_blank",rel:"noopener noreferrer"},"PastPages"),", a similar effort that took screenshots from 2012 to 2018 from a much wider range of news websites."),s.a.createElement("p",null,"Thanks for visiting!")))}}]),t}(n.Component)),v=a(5),f=a(36),y=a(19),w=a(39),E=a(40),N=a.n(E),k=a(18),T=a.n(k),j=a(28),C="washingtonpost.com",D="wsj.com",O=["nytimes.com",C,"cnn.com",D,"foxnews.com"];var W=new Date(2019,0,0),x=new Date,S="loading",U=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(u.a)(this,Object(b.a)(t).call(this,e))).handleDayChange=a.handleDayChange.bind(Object(v.a)(Object(v.a)(a))),a.handleTimeNavigation=a.handleTimeNavigation.bind(Object(v.a)(Object(v.a)(a))),a.updateLeftWebsite=a.updateLeftWebsite.bind(Object(v.a)(Object(v.a)(a))),a.updateRightWebsite=a.updateRightWebsite.bind(Object(v.a)(Object(v.a)(a)));var n=N.a.parse(e.location.search);return a.state=a.getInitialState(n),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"getInitialState",value:function(e){var t=e.siteOne,a=e.siteTwo,n=t&&O.includes(t)?t:"nytimes.com",s=a&&O.includes(a)?a:"foxnews.com",r=parseInt(e.year),o=parseInt(e.month),i=parseInt(e.day),c=parseInt(e.hour),l=!!e.showNow,h=T()(new Date).subtract(2,"days").toDate();(l&&(h=T()(new Date).subtract(1,"hours").toDate()),r&&o&&i&&c)&&(h=T.a.utc("".concat(r,"-").concat(o,"-").concat(i,"-").concat(c),"YYYY-MM-DD-kk").local().toDate());return{leftWebsite:n,rightWebsite:s,screenshotDateTime:h&&h>W&&h<=x?h:new Date(2019,2,26,13),copyLinkText:"Share link to current view"}}},{key:"handleDayChange",value:function(e){this.setState({screenshotDateTime:e}),i.a.event({category:"Screenshot View Change",action:"day change",label:T()(e).format("YYYY-MM-DD, HH")})}},{key:"handleTimeNavigation",value:function(e){var t=this.state.screenshotDateTime,a=e.currentTarget.getAttribute("intervalhours");a?t=T()(this.state.screenshotDateTime).add(a,"hours").toDate():console.log("Couldn't find the correct interval! Check your button attrs."),this.setState({screenshotDateTime:t}),i.a.event({category:"Screenshot View Change",action:"time change by interval",label:T()(t).format("YYYY-MM-DD, HH")})}},{key:"updateLeftWebsite",value:function(e){this.setState({leftWebsite:e})}},{key:"updateRightWebsite",value:function(e){this.setState({rightWebsite:e})}},{key:"generateDeeplink",value:function(){var e=this.state.screenshotDateTime.getUTCFullYear(),t=this.state.screenshotDateTime.getUTCMonth()+1,a=this.state.screenshotDateTime.getUTCDate(),n=this.state.screenshotDateTime.getUTCHours(),s=this.state,r=s.leftWebsite,o=s.rightWebsite,i="localhost:3000";return i="https://".concat(window.location.host).concat("/news-archive-explorer"),"".concat(i,"/#/?year=").concat(e,"&month=").concat(t,"&day=").concat(a,"&hour=").concat(n,"&siteOne=").concat(r,"&siteTwo=").concat(o)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App-wrapper"},s.a.createElement(d,null),s.a.createElement("div",{className:"container mt-5"},s.a.createElement("div",{className:"form-row justify-content-md-center"},s.a.createElement("div",{className:"datetimenav"},s.a.createElement("button",{type:"button",className:"btn btn-info btn-sm",intervalhours:"-24",onClick:this.handleTimeNavigation},s.a.createElement(y.a,null),"24 Hrs"),s.a.createElement("button",{type:"button",className:"btn btn-info btn-sm",intervalhours:"-4",onClick:this.handleTimeNavigation},s.a.createElement(y.a,null),"4 Hrs"),s.a.createElement("button",{type:"button",className:"btn btn-info btn-sm mr-2",intervalhours:"-1",onClick:this.handleTimeNavigation},s.a.createElement(y.a,null),"1 Hr"),s.a.createElement(f.a,{selected:this.state.screenshotDateTime,onChange:this.handleDayChange,showTimeSelect:!0,dateFormat:"MMM d, yyyy ha",timeFormat:"HH",timeIntervals:60,minDate:W,maxDate:x,className:"form-control"}),s.a.createElement("button",{type:"button",className:"btn btn-info btn-sm ml-2",intervalhours:"1",onClick:this.handleTimeNavigation},"1 Hr",s.a.createElement(y.b,null)),s.a.createElement("button",{type:"button",className:"btn btn-info btn-sm",intervalhours:"4",onClick:this.handleTimeNavigation},"4 Hrs",s.a.createElement(y.b,null)),s.a.createElement("button",{type:"button",className:"btn btn-info btn-sm",intervalhours:"24",onClick:this.handleTimeNavigation},"24 Hrs",s.a.createElement(y.b,null)))),s.a.createElement("div",{className:"form-row justify-content-md-center",id:"share-link-wrapper"},s.a.createElement(w.CopyToClipboard,{text:this.generateDeeplink(),onCopy:function(){e.setState({copyLinkText:"Copied!"}),setTimeout(function(){return e.setState({copyLinkText:"Share link to current view"})},1e3)}},s.a.createElement("button",{type:"button",className:"btn btn-info btn-sm"},this.state.copyLinkText))),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card-deck"},s.a.createElement(Y,{website:this.state.leftWebsite,year:this.state.screenshotDateTime.getUTCFullYear(),month:this.state.screenshotDateTime.getUTCMonth()+1,day:this.state.screenshotDateTime.getUTCDate(),hour:this.state.screenshotDateTime.getUTCHours(),propogateWebsiteUpdate:this.updateLeftWebsite}),s.a.createElement(Y,{website:this.state.rightWebsite,year:this.state.screenshotDateTime.getUTCFullYear(),month:this.state.screenshotDateTime.getUTCMonth()+1,day:this.state.screenshotDateTime.getUTCDate(),hour:this.state.screenshotDateTime.getUTCHours(),propogateWebsiteUpdate:this.updateRightWebsite}))))))}}]),t}(n.Component);function H(e,t,a,n,s){return"https://d1k37mkoj29puy.cloudfront.net/".concat(e,"/").concat(t,"/").concat(a,"/").concat(n,"/").concat(s,"/2/screenshot.jpeg")}var Y=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(u.a)(this,Object(b.a)(t).call(this,e))).handleWebsiteChange=a.handleWebsiteChange.bind(Object(v.a)(Object(v.a)(a))),a.state={websiteName:e.website,imageStatus:S},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleWebsiteChange",value:function(e){this.setState({websiteName:e,imageStatus:S}),i.a.event({category:"Screenshot View Change",action:"website change",label:e}),this.props.propogateWebsiteUpdate(e)}},{key:"componentDidUpdate",value:function(e){(e.website!==this.props.website||e.year!==this.props.year||e.month!==this.props.month||e.day!==this.props.day||e.hour!==this.props.hour)&&this.setState({imageStatus:S})}},{key:"render",value:function(){var e=this,t=this.state.imageStatus;return s.a.createElement("div",{className:"card App-card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},s.a.createElement(M,{website:this.state.websiteName,onWebsiteChange:this.handleWebsiteChange})),s.a.createElement("p",{className:"card-text"},s.a.createElement("small",{className:"text-muted"},function(e){var t;return(t={},Object(j.a)(t,C,"For large parts of January and February 2019, screenshots failed only for washingtonpost.com. You may see a higher rate of blank screenshots during this period."),Object(j.a)(t,D,"For a large part of April and start of May 2019, the WSJ had an undismissed modal appear on the homepage. Screenshots during this period unfortunately are hidden beneath that modal; this will be changed soon!"),t)[e]}(this.state.websiteName))),s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("div",{className:"spinner-border",role:"status",style:{display:t===S?"block":"none"}})),s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("div",{style:{display:"failed"===t?"block":"none"}},s.a.createElement("p",null,"Failed to load screenshot! It's likely the screenshot of this particular time was not captured correctly."),s.a.createElement("p",null,"There is a known gap in screenshots from 10/18/2020 to 10/25/2020, due to a technical issue. The person who runs this project is not pleased about this, but it has since been fixed. Sorry!"),s.a.createElement("p",null,"If problems persist on other screenshots, please report the issue to newsscreenshotarchive@gmail.com."))),s.a.createElement("a",{target:"_blank",href:H(this.state.websiteName,this.props.year,this.props.month,this.props.day,this.props.hour)},s.a.createElement("img",{className:"card-img-top",src:H(this.state.websiteName,this.props.year,this.props.month,this.props.day,this.props.hour),alt:"Screenshot of the homepage of ".concat(this.state.websiteName," taken on ")+"".concat(this.props.year,"-").concat(this.props.month,"-").concat(this.props.day,", ").concat(this.props.hour," hours UTC"),style:{display:"loaded"===t?"block":"none"},onLoad:function(){return e.setState({imageStatus:"loaded"})},onError:function(){return e.setState({imageStatus:"failed"})}}))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(u.a)(this,Object(b.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.props.onWebsiteChange(e.target.value)}},{key:"render",value:function(){return s.a.createElement("form",null,s.a.createElement("label",null,"Website"),s.a.createElement("select",{className:"form-control",value:this.props.website,onChange:this.handleChange},O.map(function(e){return s.a.createElement("option",{value:e,key:e},e)})))}}]),t}(n.Component),I=U;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(70);i.a.initialize("UA-154188236-1"),i.a.pageview(window.location.pathname+window.location.search);var F=s.a.createElement(c.a,{basename:"/news-archive-explorer"},s.a.createElement("div",null,s.a.createElement(l.a,{exact:!0,path:"/",component:I}),s.a.createElement(l.a,{exact:!0,path:"/about",component:g})));o.a.render(F,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.9bd97233.chunk.js.map